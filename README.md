# Система Управління Базою данних ЖТТУ

Цей проект є простим інструментом командного рядка для управління базою даних за допомогою Python і MySQL. Він демонструє використання кількох принципів програмування, шаблонів проектування та технік рефакторингу для створення чистого, підтримуваного та масштабованого коду.

## Зміст
- [Принципи програмування](#принципи-програмування)
- [Техніки рефакторингу](#техніки-рефакторингу)
- [Шаблони проектування](#шаблони-проектування)
- [Функціонал](#функціонал)
- [Налаштування та запуск](#налаштування-та-запуск)

## Принципи програмування

1. **Принцип єдиного обов'язку (Single Responsibility Principle, SRP)**: Кожен клас у проекті має одну відповідальність. Наприклад, `DatabaseConnection` обробляє з'єднання з базою даних, `QueryFactory` генерує SQL-запити, а класи команд виконують певні дії.

2. **Принцип відкритості/закритості (Open/Closed Principle, OCP)**: Система відкрита для розширення, але закрита для модифікацій. Нові команди можна додавати без зміни існуючого коду.

3. **Принцип підстановки Лісков (Liskov Substitution Principle, LSP)**: Усі класи команд успадковують від базового класу `Command` і можуть використовуватися взаємозамінно без впливу на правильність програми.

4. **Принцип розділення інтерфейсів (Interface Segregation Principle, ISP)**: Інтерфейс `Command` є простим і містить лише метод `execute`, що забезпечує, що класи, які реалізують цей інтерфейс, не обтяжені зайвими методами.

5. **Принцип інверсії залежностей (Dependency Inversion Principle, DIP)**: Високорівневі модулі (`main`) залежать від абстракцій (`Command`), а не від конкретних реалізацій.

## Техніки рефакторингу

1. **Виділення класу (Extract Class)**: `DatabaseConnection` і `QueryFactory` були виділені для обробки конкретних обов'язків, покращуючи модульність та читабельність.

2. **Заміна умовного виразу поліморфізмом (Replace Conditional with Polymorphism)**: Різні операції з базою даних були інкапсульовані в окремих класах команд, що успадковуються від загального інтерфейсу `Command`.

3. **Інкапсуляція поля (Encapsulate Field)**: Прямий доступ до з'єднання з базою даних інкапсульований у класі `DatabaseConnection`.

## Шаблони проектування

1. **Фабричний метод (Factory Method)**: Клас `QueryFactory` використовує шаблон фабричного методу для генерації SQL-запитів на основі вхідних параметрів, зменшуючи дублювання коду та централізуючи логіку створення запитів.

2. **Шаблон команд (Command Pattern)**: Кожна операція з базою даних інкапсульована в класі команди, який реалізує інтерфейс `Command`, що сприяє інкапсуляції запитів як об'єктів.

3. **Шаблонний метод (Template Method)**: Клас `Command` надає шаблонний метод (`execute`), а підкласи перевизначають його для реалізації конкретних дій.

## Функціонал

Система дозволяє користувачам виконувати різні операції з базою даних, включаючи:
- Перегляд всіх даних з таблиці.
- Підрахунок кількості транспортних засобів.
- Підрахунок транспортних засобів за типом.
- Оновлення зарплат співробітників на певний відсоток.
- Сортування даних у таблиці за вказаною колонкою та порядком.

### Команди
- **Команда вибору всіх даних**: Виводить всі записи з вказаної таблиці.
- **Команда підрахунку транспорту**: Підраховує загальну кількість записів про транспорт.
- **Команда підрахунку транспорту за типом**: Підраховує кількість транспортних засобів за типом.
- **Команда оновлення зарплат**: Збільшує зарплати співробітників на вказаний відсоток.
- **Команда сортування**: Сортує та виводить записи з вказаної таблиці на основі колонки та порядку (зростання/спадання).

## Налаштування та запуск

### Необхідні умови
- Python 3.x
- MySQL сервер
- MySQL Connector для Python (pymysql)

### Встановлення

1. **Клонування репозиторію**:
    ```bash
    git clone https://github.com/Ar1stokrat/zttudb_lab-6.git
    ```

2. **Встановлення необхідних Python пакетів**:
    ```bash
    pip install pymysql
    ```

3. **Налаштування вашої MySQL бази даних**:
    - Переконайтесь, що MySQL сервер працює.
    - Створіть базу даних та таблиці відповідно до ваших потреб.

4. **Налаштування з'єднання з базою даних**:
    - Змініть файл `config.py`, щоб включити ваші облікові дані для MySQL:
        ```python
        user = 'your_mysql_user'
        password = 'your_mysql_password'
        host = 'your_mysql_host'
        db_name = 'your_database_name'
        ```

### Запуск програми

1. **Запуск основного скрипта**:
    ```bash
    python main.py
    ```

2. **Слідкуйте за інструкціями на екрані** для виконання різних операцій з базою даних.

### Приклад використання
- **Вибір всіх даних з таблиці**:
    ```
    Виберіть дію:
    1 - Вивести всі дані з таблиці
    ...
    Введіть номер таблиці: 1
    ```

- **Підрахунок кількості транспорту**:
    ```
    Виберіть дію:
    2 - Порахувати кількість транспорту
    ```

- **Збільшення зарплат співробітників на відсоток**:
    ```
    Виберіть дію:
    10 - Підняти зарплату працівникам на N%
    Введіть відсоток: 10
    ```
## Історія розробки
Проєкт був розроблений як курсовий для предмету "Бази данних", однак він не мав ніяних патернів, або принципів програмування і тп. Наразі має всі необхідні функції, оптимізацію і читабельний код.

## Вдячності
- Цей проект використовує MySQL базу даних та бібліотеку Python `pymysql`.
- Особлива подяка контриб’юторам та спільноті з відкритим кодом за їх цінні ресурси та інструменти.
